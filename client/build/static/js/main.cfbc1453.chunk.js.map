{"version":3,"sources":["components/header/Header.jsx","components/sidebar/Sidebar.jsx","components/post/Post.jsx","components/posts/Posts.jsx","pages/home/Home.jsx","context/Reducer.js","context/Context.js","components/singlePost/SinglePost.jsx","pages/single/Single.jsx","components/topbar/TopBar.jsx","pages/write/Write.jsx","pages/settings/Settings.jsx","pages/login/Login.jsx","pages/register/Register.jsx","App.js","index.js"],"names":["Header","className","to","smooth","duration","src","alt","Sidebar","useState","cats","setCats","useEffect","a","axios","get","res","data","getCats","style","textTransform","map","cat","name","_id","href","Post","post","photo","categories","category","index","title","Date","createdAt","toLocaleDateString","weekday","year","month","day","desc","Posts","posts","id","Home","setPosts","search","useLocation","fetchPosts","Reducer","state","action","type","user","isFetching","error","payload","INITIAL_STATE","JSON","parse","localStorage","getItem","Context","createContext","ContextProvider","children","useReducer","dispatch","setItem","stringify","Provider","value","SinglePost","path","pathname","split","setPost","useContext","setTitle","setDesc","updatedMode","setUpdateMode","getPost","handleDelete","delete","username","window","location","replace","handleUpdate","put","autoFocus","onChange","e","target","onClick","Single","TopBar","setCat","suggestions","setSuggestions","fetchCats","handleSearch","scrollTo","document","querySelector","scrollHeight","profilePicture","htmlFor","placeholder","matches","length","filter","c","regex","RegExp","match","onSearch","onBlur","setTimeout","suggestion","Write","file","setFile","handleSubmit","preventDefault","newPost","FormData","filename","now","append","URL","createObjectURL","onSubmit","display","files","defaultValue","disabled","Settings","setUsername","email","setEmail","password","setPassword","success","setSuccess","updatedUser","userId","color","textAlign","marginTop","Login","userRef","useRef","passwordRef","current","ref","Register","setError","App","exact","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.cfbc1453.chunk.js","sourcesContent":["import \"./header.css\"\r\nimport {Link } from \"react-scroll\"\r\n\r\nexport default function Header() {\r\n  return (\r\n    <div className=\"header\">\r\n      <div className=\"headerTitles\">\r\n        <span className=\"headerTitleLg\">Blog Trotteur</span>\r\n        <span className=\"headerTitleSm\">Voyager depuis chez vous en lisant les articles de notre blog</span>\r\n         <Link className=\"headerButton\" to=\"posts-component\" smooth={true} duration={1000}>\r\n            Lire nos articles\r\n         </Link>\r\n      </div>\r\n      <img\r\n        className=\"headerImg\"\r\n        src=\"/images/showcase.jpg\"\r\n        alt=\"\"\r\n      />\r\n    </div>\r\n  )\r\n}\r\n","import \"./sidebar.css\" \r\nimport { useState, useEffect } from \"react\"\r\nimport axios from \"axios\"\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function Sidebar() {\r\n  const [cats, setCats] = useState([]);\r\n\r\n  useEffect(() => {\r\n      const getCats = async () => {\r\n        const res = await axios.get(\"/categories\");\r\n        setCats(res.data)\r\n      };\r\n\r\n      getCats()\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"sidebar\">\r\n      <div className=\"sidebarItem\">\r\n        <span className=\"sidebarTitle\" style={{textTransform: \"uppercase\"}}>catégories</span>\r\n        <ul className=\"sidebarList\">\r\n          {cats.map(cat =>(\r\n              <Link key={cat._id} to={`/?cat=${cat.name}`} className=\"link\">\r\n                <li className=\"sidebarListItem\">\r\n                  {cat.name}\r\n                </li>\r\n              </Link>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n      <div className=\"sidebarItem\">\r\n        <span className=\"sidebarTitle\">SUIVEZ-NOUS</span>\r\n        <div className=\"sidebarSocial\">\r\n          <a href=\"http://www.facebook.com\" className=\"link\">\r\n          <i className=\"sidebarIcon fab fa-facebook-square\"></i>\r\n          </a>\r\n          <a href=\"http://www.twitter.com\" className=\"link\">\r\n          <i className=\"sidebarIcon fab fa-twitter-square\"></i>\r\n          </a>\r\n          <a href=\"http://www.pinterest.com\" className=\"link\">\r\n          <i className=\"sidebarIcon fab fa-pinterest-square\"></i>\r\n          </a>\r\n          <a href=\"http://www.instagram.com\" className=\"link\">\r\n          <i className=\"sidebarIcon fab fa-instagram-square\"></i>\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import \"./post.css\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function Post({ post }) {\r\n\r\n  const  dateOptions = {weekday: \"long\", year: \"numeric\", month: \"long\", day: \"2-digit\"};\r\n\r\n  return (\r\n    <div className=\"post\">\r\n      {post.photo && <img className=\"postImg\" src={`/images/${post.photo}`} alt=\"\" />}\r\n      <div className=\"postInfo\">\r\n        <div className=\"postCats\">\r\n            {\r\n              post.categories.map((category, index) => (\r\n                <Link key={index} to={`/?cat=${category}`} className=\"link\">\r\n                  <span className=\"postCat\">{category}</span>\r\n                </Link>\r\n              ))\r\n            }\r\n            \r\n        </div>\r\n        <Link to={`/post/${post._id}`} className=\"link postTitle\">\r\n          <span className=\"postTitle\">{post.title}</span>\r\n        </Link>\r\n        <hr className=\"postSep\"/>\r\n        <span className=\"postDate\">\r\n          {new Date(post.createdAt).toLocaleDateString(\"fr-FR\", dateOptions)}\r\n        </span>\r\n      </div>\r\n      <p className=\"postDesc\">{post.desc}</p>\r\n    </div>\r\n  );\r\n}","import './posts.css'\r\nimport Post from \"../post/Post\"\r\n\r\nexport default function Posts({posts}) {\r\n  return (\r\n    <div id=\"posts-component\" className=\"posts\">\r\n      {posts.map(post => (\r\n        <Post key={post._id} post={post}/>\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n","import './home.css'\r\nimport { useState, useEffect } from 'react'\r\nimport axios from \"axios\"\r\nimport Header from '../../components/header/Header'\r\nimport Sidebar from \"../../components/sidebar/Sidebar\"\r\nimport Posts from \"../../components/posts/Posts\"\r\nimport { useLocation } from 'react-router-dom'\r\n\r\nexport default function Home() {\r\n  const [posts, setPosts] = useState([]);\r\n  const {search} = useLocation();\r\n\r\n\r\n  useEffect(() => {\r\n    const fetchPosts = async () => {\r\n      const res = await axios.get(\"/posts\"+search)\r\n      setPosts(res.data)\r\n    }\r\n\r\n    fetchPosts();\r\n  }, [search])\r\n\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <div className=\"home\">\r\n        <Posts posts={posts}/>\r\n        <Sidebar />\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n","const Reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"LOGIN_START\":\r\n      return {\r\n        user: null,\r\n        isFetching: true,\r\n        error: false,\r\n      };\r\n    case \"LOGIN_SUCCESS\":\r\n      return {\r\n        user: action.payload,\r\n        isFetching: false,\r\n        error: false,\r\n      };\r\n    case \"LOGIN_FAILURE\":\r\n      return {\r\n        user: null,\r\n        isFetching: false,\r\n        error: true,\r\n      };\r\n      case \"UPDATE_START\":\r\n        return {\r\n          ...state,\r\n          isFetching:true\r\n        };\r\n      case \"UPDATE_SUCCESS\":\r\n        return {\r\n          user: action.payload,\r\n          isFetching: false,\r\n          error: false,\r\n        };\r\n      case \"UPDATE_FAILURE\":\r\n        return {\r\n          user: state.user,\r\n          isFetching: false,\r\n          error: true,\r\n        };\r\n    case \"LOGOUT\":\r\n      return {\r\n        user: null,\r\n        isFetching: false,\r\n        error: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default Reducer;","import {createContext, useReducer, useEffect} from \"react\"; \r\nimport Reducer from \"./Reducer\";\r\n\r\nconst INITIAL_STATE = {\r\n  user: JSON.parse(localStorage.getItem(\"user\")) || null,\r\n  isFetching: false,\r\n  error: false\r\n};\r\n\r\nexport const Context = createContext(INITIAL_STATE)\r\n\r\nexport const ContextProvider = ({children}) => {\r\n\r\n  const [state, dispatch] = useReducer(Reducer, INITIAL_STATE);\r\n\r\n  useEffect(() =>{\r\n    localStorage.setItem(\"user\", JSON.stringify(state.user))\r\n  }, [state.user])\r\n\r\n\r\n  return (\r\n    <Context.Provider value={{\r\n      user: state.user,\r\n      isFetching: state.isFetching,\r\n      error: state.error,\r\n      dispatch\r\n    }}>\r\n      {children}\r\n    </Context.Provider>\r\n  )\r\n}","import \"./singlePost.css\"\r\nimport {useLocation} from \"react-router\"\r\nimport { useEffect, useState, useContext } from \"react\"\r\nimport axios from \"axios\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { Context } from \"../../context/Context\"\r\n\r\nexport default function SinglePost() {\r\n\r\n  const  dateOptions = {weekday: \"long\", year: \"numeric\", month: \"long\", day: \"2-digit\"};\r\n\r\n  const location = useLocation()\r\n  const path = (location.pathname.split(\"/\")[2])\r\n  const [post, setPost] = useState({})\r\n  const {user} = useContext(Context)\r\n  const [title, setTitle] = useState(\"\")\r\n  const [desc, setDesc] = useState(\"\")\r\n  const [updatedMode, setUpdateMode] = useState(\"\")\r\n\r\n  useEffect(() => {\r\n    const getPost = async () => {\r\n      const res = await axios.get(\"/posts/\" +path)\r\n      setPost(res.data)\r\n      setTitle(res.data.title)\r\n      setDesc(res.data.desc)\r\n    }\r\n\r\n    getPost()\r\n  }, [path])\r\n\r\n  const handleDelete = async () => {\r\n    try {\r\n      await axios.delete(\"/posts/\" + path, {data: {username: user.username}});\r\n      window.location.replace(\"/\")\r\n    } catch (err) {\r\n      \r\n    }\r\n  }\r\n\r\n  const handleUpdate = async () => {\r\n    try {\r\n      await axios.put(\"/posts/\" + path, { \r\n        username: user.username, title, desc\r\n      });\r\n      setUpdateMode(false)\r\n    } catch (err) {\r\n      \r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"singlePost\">\r\n      <div className=\"singlePostWrapper\">\r\n        {post.photo &&\r\n           <img src={`/images/${post.photo}`} alt=\"\" className=\"singlePostImg\" />\r\n        }\r\n\r\n        {\r\n          updatedMode ? (\r\n            <input \r\n              type=\"text\" \r\n              value={title} \r\n              className=\"singlePostTitleInput\" \r\n              autoFocus\r\n              onChange={(e) => setTitle(e.target.value)}\r\n          /> \r\n          ): (\r\n            <h1 className=\"singlePostTitle\">\r\n              {title}\r\n              {post.username === user?.username &&\r\n                <div className=\"singlePostEdit\">\r\n                  <i className=\"singlePostIcon far fa-edit\" onClick={() => setUpdateMode(true)}></i>\r\n                  <i className=\"singlePostIcon far fa-trash-alt\" onClick={handleDelete}></i>\r\n              </div>\r\n            }\r\n          </h1>\r\n          )\r\n        }\r\n    \r\n        <div className=\"singlePostInfo\">\r\n          <span className=\"singlePostAuthor\">Auteur: \r\n          <Link to={`/?user=${post.username}`} className=\"link\">\r\n          <b>{post.username}</b>\r\n          </Link>\r\n         </span>\r\n          <span className=\"singlePostDate\">{new Date(post.createdAt).toLocaleDateString(\"fr-FR\", dateOptions)}</span>\r\n        </div>\r\n        {\r\n          updatedMode ? (\r\n          <textarea  \r\n          className=\"singlePostDescInput\" \r\n          value={desc} \r\n          onChange={(e) => setDesc(e.target.value)}\r\n          />\r\n          ) : (\r\n            <p className=\"singlePostDesc\">{desc}</p>\r\n          )\r\n        }\r\n\r\n        \r\n        {\r\n          updatedMode && (\r\n            <button className=\"singlePostButton\" onClick={handleUpdate}>\r\n            Update\r\n          </button>\r\n          )\r\n        }\r\n   \r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import Sidebar from \"../../components/sidebar/Sidebar\"\r\nimport SinglePost from \"../../components/singlePost/SinglePost\"\r\nimport \"./single.css\"\r\n\r\nexport default function Single() {\r\n  return (\r\n    <div className=\"single\">\r\n      <SinglePost />\r\n      <Sidebar />\r\n    </div>\r\n  )\r\n}\r\n","import { useContext, useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Context } from \"../../context/Context\";\r\nimport axios from \"axios\"\r\nimport \"./topbar.css\";\r\n\r\nexport default function TopBar() {\r\n  const { user, dispatch } = useContext(Context);\r\n  const [cats, setCats] = useState([]);\r\n  const [cat, setCat] = useState(\"\");\r\n  const [suggestions, setSuggestions] = useState([])\r\n\r\n  useEffect(() => {\r\n    const fetchCats = async () => {\r\n      const res = await axios.get(\"/categories/\")\r\n      setCats(res.data)\r\n    }\r\n\r\n    fetchCats();\r\n  },[])\r\n\r\n  const handleLogout = () => {\r\n    dispatch({ type: \"LOGOUT\" });\r\n  };\r\n\r\n  const onSearch = (category ) => {\r\n    let matches = []\r\n    if(category.length > 0){\r\n      matches = cats.filter(c => {\r\n        const regex = new RegExp(`${category}`, \"gi\")\r\n        return c.name.match(regex)\r\n      })\r\n    }\r\n    setSuggestions(matches)\r\n    setCat(category)\r\n  }\r\n\r\n  const onSuggest = (category) => {\r\n    setCat(category);\r\n    setSuggestions([])\r\n  }\r\n\r\n  const handleSearch = () => {\r\n    window.scrollTo(0,document.querySelector('.header').scrollHeight)\r\n\r\n  }\r\n\r\n \r\n  return (\r\n    <div className=\"top\">\r\n      <div className=\"topLeft\">\r\n        <a href=\"http://www.facebook.com\">\r\n        <i className=\"topIcon fab fa-facebook-square\"></i>\r\n        </a>\r\n        <a href=\"http://www.twitter.com\">\r\n        <i className=\"topIcon fab fa-twitter-square\"></i>\r\n        </a>\r\n        <a href=\"http://www.pinterest.com\">\r\n        <i className=\"topIcon fab fa-pinterest-square\"></i>\r\n        </a>\r\n        <a href=\"http://www.instagram.com\">\r\n        <i className=\"topIcon fab fa-instagram-square\"></i>\r\n        </a>\r\n      </div>\r\n      <div className=\"topCenter\">\r\n        <ul className=\"topList\">\r\n          <li className=\"topListItem\">\r\n            <Link className=\"link\" to=\"/\">\r\n              ACCUEIL\r\n            </Link>\r\n          </li>\r\n          <li className=\"topListItem\">\r\n            <Link className=\"link\" style={{textTransform:\"uppercase\"}} to=\"/write\">\r\n              écrire\r\n            </Link>\r\n          </li>\r\n          <li className=\"topListItem\" onClick={handleLogout} style={{textTransform: \"uppercase\"}}>\r\n            {user && \"déconnexion\"}\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div className=\"topRight\">\r\n        {user ? (\r\n          <Link to=\"/settings\">\r\n            <img className=\"topImg\" src={`/images/${user.profilePicture}`} alt=\"\" />\r\n          </Link>\r\n        ) : (\r\n          <ul className=\"topList\">\r\n            <li className=\"topListItem\">\r\n              <Link className=\"link\" to=\"/login\">\r\n                S'IDENTIFIER\r\n              </Link>\r\n            </li>\r\n            <li className=\"topListItem\">\r\n              <Link className=\"link\" to=\"/register\">\r\n                S'INSCRIRE\r\n              </Link>\r\n            </li>\r\n          </ul>\r\n        )}\r\n        <form className=\"searchForm\">\r\n          <label htmlFor=\"search\" >\r\n            <Link to={`/?cat=${cat}`} className=\"link\" onClick={handleSearch}>\r\n              <i onClick={handleSearch} className=\"topSearchIcon fas fa-search\"></i>\r\n            </Link>\r\n          </label>\r\n          <input \r\n          className=\"searchInput\"\r\n          placeholder=\"France, Brésil, Argentine...\"\r\n          type=\"text\" \r\n          id=\"search\"\r\n          onChange={e =>  onSearch(e.target.value)}\r\n          value={cat}\r\n          onBlur={\r\n            () => {\r\n              setTimeout(() => {\r\n                setSuggestions([])\r\n              }, 200)\r\n            }\r\n          }\r\n          />\r\n\r\n{suggestions &&suggestions.map((suggestion, index) => (\r\n            <div className=\"searchSuggestion\" onClick={() => onSuggest(suggestion.name)} key={index}>{suggestion.name}</div>\r\n          ))}\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}","import { useContext, useState, useEffect } from \"react\";\r\nimport \"./write.css\";\r\nimport axios from \"axios\";\r\nimport { Context } from \"../../context/Context\";\r\n\r\nexport default function Write() {\r\n  const [title, setTitle] = useState(\"\");\r\n  const [desc, setDesc] = useState(\"\");\r\n  const [file, setFile] = useState(null);\r\n  const [cats, setCats] = useState([]);\r\n  const [cat, setCat] = useState(\"\")\r\n  const { user } = useContext(Context);\r\n\r\n  useEffect(() => {\r\n    const fetchCats = async () => {\r\n      const res = await axios.get(\"/categories/\")\r\n      setCats(res.data)\r\n    }\r\n\r\n    fetchCats();\r\n  },[])\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const newPost = {\r\n      username: user.username,\r\n      title,\r\n      desc,\r\n      categories: [cat]\r\n    };\r\n    if (file) {\r\n      const data =new FormData();\r\n      const filename = Date.now() + file.name;\r\n      data.append(\"name\", filename);\r\n      data.append(\"file\", file);\r\n      newPost.photo = filename;\r\n      try {\r\n        await axios.post(\"/upload\", data);\r\n      } catch (err) {}\r\n    }\r\n    try {\r\n      const res = await axios.post(\"/posts\", newPost);\r\n      window.location.replace(\"/post/\" + res.data._id);\r\n    } catch (err) {}\r\n  };\r\n  return (\r\n    <div className=\"write\">\r\n      {file && (\r\n        <img className=\"writeImg\" src={URL.createObjectURL(file)} alt=\"\" />\r\n      )}\r\n      <form className=\"writeForm\" onSubmit={handleSubmit}>\r\n        <div className=\"writeFormGroup\">\r\n          <label htmlFor=\"fileInput\">\r\n            <i className=\"writeIcon fas fa-plus\"></i>\r\n          </label>\r\n          <input\r\n            type=\"file\"\r\n            id=\"fileInput\"\r\n            style={{ display: \"none\" }}\r\n            onChange={(e) => setFile(e.target.files[0])}\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Titre de l'article\"\r\n            className=\"writeInput\"\r\n            autoFocus={true}\r\n            onChange={e=>setTitle(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className=\"writeFormGroup\">\r\n          <select defaultValue={\"Category\"} className=\"writeInput writeCat\" onChange={e => setCat(e.target.value)}>\r\n            <option value=\"Category\" disabled>Catégorie</option>\r\n            {cats.map(category => (\r\n              <option key={category._id} value={category.name}>{category.name}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div className=\"writeFormGroup\">\r\n          <textarea\r\n            placeholder=\"Racontez votre histoire...\"\r\n            type=\"text\"\r\n            className=\"writeInput writeText\"\r\n            onChange={e=>setDesc(e.target.value)}\r\n          ></textarea>\r\n        </div>\r\n    \r\n        <button className=\"writeSubmit\" type=\"submit\">\r\n          Publier\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import \"./settings.css\";\r\nimport Sidebar from \"../../components/sidebar/Sidebar\";\r\nimport { useContext, useState } from \"react\";\r\nimport { Context } from \"../../context/Context\";\r\nimport axios from \"axios\";\r\n\r\nexport default function Settings() {\r\n \r\n  const { user, dispatch } = useContext(Context);\r\n\r\n  const [file, setFile] = useState(null);\r\n  const [username, setUsername] = useState(user.username);\r\n  const [email, setEmail] = useState(user.email);\r\n  const [password, setPassword] = useState(user.password);\r\n  const [success, setSuccess] = useState(false);\r\n  \r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    dispatch({ type: \"UPDATE_START\" });\r\n    const updatedUser = {\r\n      userId: user._id,\r\n      username,\r\n      email,\r\n      password,\r\n    };\r\n    if (file) {\r\n      const data = new FormData();\r\n      const filename = Date.now() + file.name;\r\n      data.append(\"name\", filename);\r\n      data.append(\"file\", file);\r\n      updatedUser.profilePicture = filename;\r\n      try {\r\n        await axios.post(\"/upload\", data);\r\n      } catch (err) {}\r\n    }\r\n    try {\r\n      const res = await axios.put(\"/users/\" + user._id, updatedUser);\r\n      setSuccess(true);\r\n      dispatch({ type: \"UPDATE_SUCCESS\", payload: res.data });\r\n    } catch (err) {\r\n      dispatch({ type: \"UPDATE_FAILURE\" });\r\n    }\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n\r\n    try {\r\n      await axios.delete(\"/users/\" + user._id, {data: {userId: user._id}});\r\n      dispatch({type: \"LOGOUT\"})\r\n      window.location.replace(\"/\")\r\n    } catch (err) {\r\n      \r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"settings\">\r\n      <div className=\"settingsWrapper\">\r\n        <div className=\"settingsTitle\">\r\n          <span className=\"settingsUpdateTitle\">Mettre à jour votre compte</span>\r\n          <span className=\"settingsDeleteTitle\" onClick={handleDelete}>Supprimer votre compte</span>\r\n        </div>\r\n        <form className=\"settingsForm\" onSubmit={handleSubmit}>\r\n          <label>Photo de profil</label>\r\n          <div className=\"settingsPP\">\r\n            <img\r\n              src={file ? URL.createObjectURL(file) : `images/${user.profilePicture}`}\r\n              alt=\"\"\r\n            />\r\n            <label htmlFor=\"fileInput\">\r\n              <i className=\"settingsPPIcon far fa-user-circle\"></i>\r\n            </label>\r\n            <input\r\n              type=\"file\"\r\n              id=\"fileInput\"\r\n              style={{ display: \"none\" }}\r\n              onChange={(e) => setFile(e.target.files[0])}\r\n            />\r\n          </div>\r\n          <label>Nom d'utilisateur</label>\r\n          <input\r\n            type=\"text\"\r\n            placeholder={user.username}\r\n            onChange={(e) => setUsername(e.target.value)}\r\n          />\r\n          <label>E-mail</label>\r\n          <input\r\n            type=\"email\"\r\n            placeholder={user.email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          />\r\n          <label>Mot de passse</label>\r\n          <input\r\n            type=\"password\"\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n          <button className=\"settingsSubmit\" type=\"submit\">\r\n            Mettre à jour\r\n          </button>\r\n          {success && (\r\n            <span\r\n              style={{ color: \"green\", textAlign: \"center\", marginTop: \"20px\" }}\r\n            >\r\n              Votre profil a été mis à jour\r\n            </span>\r\n          )}\r\n        </form>\r\n      </div>\r\n      <Sidebar />\r\n    </div>\r\n  );\r\n}","import { Link } from \"react-router-dom\"\r\nimport \"./login.css\"\r\nimport { useContext, useRef } from \"react\"\r\nimport { Context } from \"../../context/Context\"\r\nimport axios from \"axios\"\r\n\r\n\r\nexport default function Login() {\r\n\r\n  const userRef = useRef()\r\n  const passwordRef = useRef()\r\n\r\n  const {error, dispatch, isFetching } = useContext(Context)\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault()\r\n    dispatch({type: \"LOGIN_START\"});\r\n    try {\r\n      const res = await axios.post(\"/auth/login\", {\r\n        username: userRef.current.value,\r\n        password: passwordRef.current.value,\r\n      })\r\n\r\n      dispatch({type: \"LOGIN_SUCCESS\", payload: res.data})\r\n    } catch (err) {\r\n      dispatch({type: \"LOGIN_FAILURE\"})\r\n    }\r\n  };\r\n\r\n  \r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <span className=\"loginTitle\">S'identifier</span>\r\n      <form className=\"loginForm\" onSubmit={handleSubmit}>\r\n        <label>Nom d'utilisateur</label>\r\n        <input \r\n        className=\"loginInput\" \r\n        type=\"text\" \r\n        placeholder=\"Enter your username...\" \r\n        ref={userRef}\r\n        />\r\n        <label>Mot de passe</label>\r\n        <input \r\n        className=\"loginInput\" \r\n        type=\"password\" \r\n        placeholder=\"Enter your password...\" \r\n        ref={passwordRef}\r\n        />\r\n        <button className=\"loginButton\" type=\"submit\" disabled={isFetching}>\r\n        S'identifier\r\n        </button>\r\n      </form>\r\n      <button className=\"loginRegisterButton\">\r\n        <Link className=\"link\" to=\"/register\">S'inscrire</Link>\r\n      </button>\r\n      {\r\n        error && (\r\n          <div style={{color: \"tomato\", marginTop: \"1rem\"}}>Nom d'utilisateur ou mot de passe incorrect</div>\r\n        )\r\n      }\r\n    </div>\r\n  )\r\n}\r\n","import { Link } from \"react-router-dom\"\r\nimport \"./register.css\"\r\nimport {useState} from \"react\"\r\nimport axios from \"axios\"\r\n\r\nexport default function Register() {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [error, setError] = useState(false)\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError(false);\r\n    try {\r\n      const res = await axios.post(\"/auth/register\", {\r\n        username,\r\n        email,\r\n        password \r\n      })\r\n      res.data && window.location.replace('/login')\r\n    } catch (err) {\r\n      setError(true)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"register\">\r\n      <span className=\"registerTitle\">S'inscrire</span>\r\n      <form className=\"registerForm\" onSubmit={handleSubmit}>\r\n        <label>Nom d'utilisateur</label>\r\n        <input \r\n        className=\"registerInput\" \r\n        type=\"text\" \r\n        placeholder=\"Enter your username...\" \r\n        onChange={e => setUsername(e.target.value)}\r\n        />\r\n        <label>E-mail</label>\r\n        <input \r\n        className=\"registerInput\" \r\n        type=\"email\" \r\n        placeholder=\"Enter your email...\" \r\n        onChange={e => setEmail(e.target.value)}\r\n        />\r\n        <label>Mot de passe</label>\r\n        <input \r\n        className=\"registerInput\" \r\n        type=\"password\" \r\n        placeholder=\"Enter your password...\" \r\n        onChange={e => setPassword(e.target.value)}\r\n        />\r\n        <button className=\"registerButton\" type=\"submit\">\r\n          S'inscrire\r\n        </button>\r\n      </form>\r\n      <button className=\"registerLoginButton\">\r\n        <Link className=\"link\" to=\"/login\">S'identifier</Link>\r\n      </button>\r\n      {error && <span style={{color: \"tomato\", marginTop: \"1rem\"}}>Une erreur s'est produite</span>}\r\n    </div>\r\n  )\r\n}\r\n","import Home from \"./pages/home/Home\";\nimport Single from \"./pages/single/Single\";\nimport TopBar from \"./components/topbar/TopBar\";\nimport Write from \"./pages/write/Write\";\nimport Settings from \"./pages/settings/Settings\"\nimport Login from \"./pages/login/Login\";\nimport Register from \"./pages/register/Register\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from \"react-router-dom\"\nimport {useContext} from \"react\"\nimport {Context} from \"./context/Context\"\n\nfunction App() {\n\n  const {user} = useContext(Context)\n\n \n\n  return (\n    <Router>\n         <TopBar />\n         <Switch>\n           <Route exact path=\"/\">\n             <Home />\n           </Route>\n           <Route path=\"/register\">\n             {user ? <Home /> : <Register />}\n           </Route>\n           <Route path=\"/login\">\n             {user ? <Home /> : <Login />}\n           </Route>\n           <Route path=\"/write\">\n             {user ? <Write /> : <Register />}\n           </Route>\n           <Route path=\"/settings\">\n             {user ? <Settings /> : <Register/>}\n           </Route>\n           <Route path=\"/post/:postId\">\n             <Single />\n           </Route>\n         </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { ContextProvider } from './context/Context';\n\nReactDOM.render(\n  <React.StrictMode>\n    <ContextProvider>\n       <App />\n    </ContextProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}